"use strict";(self.webpackChunkyanpeipan_github_com=self.webpackChunkyanpeipan_github_com||[]).push([[3666],{6696:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>l,frontMatter:()=>m,metadata:()=>d,toc:()=>a});const d=JSON.parse('{"id":"redis/\u5e38\u89c1\u95ee\u9898/Jedis\u5185\u5b58\u6ea2\u51fa\uff1aOOM command not allowed when used memory &gt \'maxmemory\'","title":"Jedis\u5185\u5b58\u6ea2\u51fa\uff1aOOM command not allowed when used memory > \'maxmemory\'","description":"Redis\u8282\u70b9\u4f7f\u7528\u7684\u5185\u5b58\uff0c\u5927\u4e8e\u8be5\u5b9e\u4f8b\u914d\u7f6e\u7684maxmemory\u3002","source":"@site/docs/redis/\u5e38\u89c1\u95ee\u9898/Jedis\u5185\u5b58\u6ea2\u51fa\uff1aOOM command not allowed when used memory &gt \'maxmemory\'.md","sourceDirName":"redis/\u5e38\u89c1\u95ee\u9898","slug":"/redis/\u5e38\u89c1\u95ee\u9898/Jedis\u5185\u5b58\u6ea2\u51fa\uff1aOOM command not allowed when used memory &gt \'maxmemory\'","permalink":"/docs/redis/\u5e38\u89c1\u95ee\u9898/Jedis\u5185\u5b58\u6ea2\u51fa\uff1aOOM command not allowed when used memory &gt \'maxmemory\'","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/redis/\u5e38\u89c1\u95ee\u9898/Jedis\u5185\u5b58\u6ea2\u51fa\uff1aOOM command not allowed when used memory &gt \'maxmemory\'.md","tags":[{"inline":true,"label":"Redis","permalink":"/docs/tags/redis"},{"inline":true,"label":"Jedis","permalink":"/docs/tags/jedis"},{"inline":true,"label":"JedisDataException","permalink":"/docs/tags/jedis-data-exception"}],"version":"current","frontMatter":{"title":"Jedis\u5185\u5b58\u6ea2\u51fa\uff1aOOM command not allowed when used memory > \'maxmemory\'","tags":["Redis","Jedis","JedisDataException"]},"sidebar":"redisSidebar","previous":{"title":"\u95ee\u9898TOP5","permalink":"/docs/redis/\u5e38\u89c1\u95ee\u9898/"},"next":{"title":"Jedis\u5ba2\u6237\u7aef\u7f13\u51b2\u533a\u5f02\u5e38\uff1aUnexpected end of stream","permalink":"/docs/redis/\u5e38\u89c1\u95ee\u9898/Jedis\u5ba2\u6237\u7aef\u7f13\u51b2\u533a\u5f02\u5e38\uff1aUnexpected end of stream"}}');var r=s(4848),o=s(8453);const m={title:"Jedis\u5185\u5b58\u6ea2\u51fa\uff1aOOM command not allowed when used memory > 'maxmemory'",tags:["Redis","Jedis","JedisDataException"]},t="\u95ee\u9898\u73b0\u8c61",i={},a=[{value:"1. \u8c03\u6574\u914d\u7f6emaxmeory",id:"1-\u8c03\u6574\u914d\u7f6emaxmeory",level:2},{value:"2. \u5ba2\u6237\u7aef\u7f13\u51b2\u533a\u5f02\u5e38",id:"2-\u5ba2\u6237\u7aef\u7f13\u51b2\u533a\u5f02\u5e38",level:2},{value:"3. \u4fee\u6539\u7f13\u5b58\u8fc7\u671f\u7b56\u7565",id:"3-\u4fee\u6539\u7f13\u5b58\u8fc7\u671f\u7b56\u7565",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u95ee\u9898\u73b0\u8c61",children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"redis.clients.jedis.exceptions.JedisDataException: OOM command not allowed when used memory > 'maxmemory'.\n"})}),"\n",(0,r.jsx)(n.h1,{id:"\u95ee\u9898\u5206\u6790",children:"\u95ee\u9898\u5206\u6790"}),"\n",(0,r.jsxs)(n.p,{children:["Redis\u8282\u70b9\u4f7f\u7528\u7684\u5185\u5b58\uff0c\u5927\u4e8e\u8be5\u5b9e\u4f8b\u914d\u7f6e\u7684",(0,r.jsx)(n.strong,{children:"maxmemory"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"info memory\n# Memory  \n# \u5df2\u7528\u5185\u5b58\nused_memory:1013760  \nused_memory_human:990.00K  \n# \u7ed9redis\u5206\u914d\u7684\u5185\u5b58\nused_memory_rss:14737408  \nused_memory_rss_human:14.05M  \nused_memory_peak:2540352  \nused_memory_peak_human:2.42M  \nused_memory_peak_perc:39.91%  \nused_memory_overhead:868272  \nused_memory_startup:866008  \n...\n"})}),"\n",(0,r.jsx)(n.h1,{id:"\u89e3\u51b3\u65b9\u6848",children:"\u89e3\u51b3\u65b9\u6848"}),"\n",(0,r.jsx)(n.h2,{id:"1-\u8c03\u6574\u914d\u7f6emaxmeory",children:"1. \u8c03\u6574\u914d\u7f6emaxmeory"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"CONFIG SET maxmemory 2gb\n"})}),"\n",(0,r.jsx)(n.h2,{id:"2-\u5ba2\u6237\u7aef\u7f13\u51b2\u533a\u5f02\u5e38",children:"2. \u5ba2\u6237\u7aef\u7f13\u51b2\u533a\u5f02\u5e38"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u4e86monitor\u3001pub/sub\u4f7f\u7528\u4e0d\u5f53"}),"\n",(0,r.jsx)(n.h2,{id:"3-\u4fee\u6539\u7f13\u5b58\u8fc7\u671f\u7b56\u7565",children:"3. \u4fee\u6539\u7f13\u5b58\u8fc7\u671f\u7b56\u7565"}),"\n",(0,r.jsx)(n.p,{children:"\u9ed8\u8ba4\u7684redis\u8bbe\u7f6e\u662f\u975e\u5e38\u4fdd\u5b88\u7684\uff0c\u5373\u5185\u5b58\u8d85\u9650\u540e\u5c31\u4e0d\u5728\u5b58\u50a8\uff0c\u53ef\u4ee5\u628a\u7b56\u7565\u4fee\u6539\u4e3aLRU\u7b97\u6cd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"CONFIG SET maxmemory-policy volatile-lru\n"})})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>m,x:()=>t});var d=s(6540);const r={},o=d.createContext(r);function m(e){const n=d.useContext(o);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:m(e.components),d.createElement(o.Provider,{value:n},e.children)}}}]);