I"ƒd
<h1 id="æ•°ç»„çš„è¡¨è¾¾æ–¹å¼">æ•°ç»„çš„è¡¨è¾¾æ–¹å¼</h1>

<h2 id="æ„é€ æ•°ç»„çš„å‡ ç§æ–¹æ³•">æ„é€ æ•°ç»„çš„å‡ ç§æ–¹æ³•</h2>
<blockquote>
  <p>å¯ä»¥ç”¨ array() è¯­è¨€ç»“æ„æ¥æ–°å»ºä¸€ä¸ªæ•°ç»„ã€‚å®ƒæ¥å—ä»»æ„æ•°é‡ç”¨é€—å·åˆ†éš”çš„ é”®ï¼ˆkeyï¼‰ =&gt; å€¼ï¼ˆvalueï¼‰å¯¹ã€‚</p>
</blockquote>

<blockquote>
  <p>è‡ª 5.4 èµ·å¯ä»¥ä½¿ç”¨çŸ­æ•°ç»„å®šä¹‰è¯­æ³•ï¼Œç”¨ [] æ›¿ä»£ array()ã€‚</p>
</blockquote>

<h2 id="æ•°ç»„keyå’Œvalueçš„é™åˆ¶æ¡ä»¶">æ•°ç»„keyå’Œvalueçš„é™åˆ¶æ¡ä»¶</h2>

<blockquote>
  <p>key å¯ä»¥æ˜¯ integer æˆ–è€… stringã€‚value å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚</p>
</blockquote>

<blockquote>
  <p>æ­¤å¤– key ä¼šæœ‰å¦‚ä¸‹çš„å¼ºåˆ¶è½¬æ¢ï¼š</p>
</blockquote>

<ul>
  <li>åŒ…å«æœ‰åˆæ³•æ•´å‹å€¼çš„å­—ç¬¦ä¸²ä¼šè¢«è½¬æ¢ä¸ºæ•´å‹ã€‚ä¾‹å¦‚é”®å â€œ8â€ å®é™…ä¼šè¢«å‚¨å­˜ä¸º 8ã€‚ä½†æ˜¯ â€œ08â€ åˆ™ä¸ä¼šå¼ºåˆ¶è½¬æ¢ï¼Œå› ä¸ºå…¶ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„åè¿›åˆ¶æ•°å€¼ã€‚</li>
  <li>æµ®ç‚¹æ•°ä¹Ÿä¼šè¢«è½¬æ¢ä¸ºæ•´å‹ï¼Œæ„å‘³ç€å…¶å°æ•°éƒ¨åˆ†ä¼šè¢«èˆå»ã€‚ä¾‹å¦‚é”®å 8.7 å®é™…ä¼šè¢«å‚¨å­˜ä¸º 8ã€‚</li>
  <li>å¸ƒå°”å€¼ä¹Ÿä¼šè¢«è½¬æ¢æˆæ•´å‹ã€‚å³é”®å true å®é™…ä¼šè¢«å‚¨å­˜ä¸º 1 è€Œé”®å false ä¼šè¢«å‚¨å­˜ä¸º 0ã€‚</li>
  <li>Null ä¼šè¢«è½¬æ¢ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå³é”®å null å®é™…ä¼šè¢«å‚¨å­˜ä¸º â€œâ€œã€‚</li>
  <li>æ•°ç»„å’Œå¯¹è±¡ä¸èƒ½è¢«ç”¨ä¸ºé”®åã€‚åšæŒè¿™ä¹ˆåšä¼šå¯¼è‡´è­¦å‘Šï¼šIllegal offset typeã€‚</li>
</ul>

<blockquote>
  <p>å¦‚æœåœ¨æ•°ç»„å®šä¹‰ä¸­å¤šä¸ªå•å…ƒéƒ½ä½¿ç”¨äº†åŒä¸€ä¸ªé”®åï¼Œåˆ™åªä½¿ç”¨äº†æœ€åä¸€ä¸ªï¼Œä¹‹å‰çš„éƒ½è¢«è¦†ç›–äº†ã€‚</p>
</blockquote>

<h2 id="php-predefined-interfaces-and-classes-é¢„è®¢ä¹‰æ¥å£">PHP Predefined Interfaces and Classes é¢„è®¢ä¹‰æ¥å£</h2>

<h3 id="traversableéå†æ¥å£">Traversableï¼ˆéå†ï¼‰æ¥å£</h3>
<blockquote>
  <p>æ£€æµ‹ä¸€ä¸ªç±»æ˜¯å¦å¯ä»¥ä½¿ç”¨ foreach è¿›è¡Œéå†çš„æ¥å£ã€‚
æ— æ³•è¢«å•ç‹¬å®ç°çš„åŸºæœ¬æŠ½è±¡æ¥å£ã€‚ç›¸åå®ƒå¿…é¡»ç”± IteratorAggregate æˆ– Iterator æ¥å£å®ç°ã€‚
è¿™ä¸ªæ¥å£æ²¡æœ‰ä»»ä½•æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨ä»…ä»…æ˜¯ä½œä¸ºæ‰€æœ‰å¯éå†ç±»çš„åŸºæœ¬æ¥å£ã€‚
PHP å·²ç»æä¾›äº†ä¸€äº›ç”¨äºæ—¥å¸¸ä»»åŠ¡çš„è¿­ä»£å™¨ã€‚ è¯¦ç»†åˆ—è¡¨å‚è§ <a href="http://php.net/manual/zh/spl.iterators.php">SPL è¿­ä»£å™¨</a>ã€‚</p>
</blockquote>

<h3 id="iteratoraggregateèšåˆå¼è¿­ä»£å™¨æ¥å£">IteratorAggregateï¼ˆèšåˆå¼è¿­ä»£å™¨ï¼‰æ¥å£</h3>
<blockquote>
  <p>åˆ›å»ºå¤–éƒ¨è¿­ä»£å™¨çš„æ¥å£ã€‚</p>
</blockquote>

<h3 id="iteratorè¿­ä»£å™¨æ¥å£">Iteratorï¼ˆè¿­ä»£å™¨ï¼‰æ¥å£</h3>
<blockquote>
  <p>å¯åœ¨å†…éƒ¨è¿­ä»£è‡ªå·±çš„å¤–éƒ¨è¿­ä»£å™¨æˆ–ç±»çš„æ¥å£ã€‚</p>
</blockquote>

<h3 id="arrayaccessæ•°ç»„å¼è®¿é—®æ¥å£">ArrayAccessï¼ˆæ•°ç»„å¼è®¿é—®ï¼‰æ¥å£</h3>
<blockquote>
  <p>æä¾›åƒè®¿é—®æ•°ç»„ä¸€æ ·è®¿é—®å¯¹è±¡çš„èƒ½åŠ›çš„æ¥å£ã€‚</p>
</blockquote>

<h3 id="åºåˆ—åŒ–æ¥å£">åºåˆ—åŒ–æ¥å£</h3>
<blockquote>
  <p>è‡ªå®šä¹‰åºåˆ—åŒ–çš„æ¥å£ã€‚å®ç°æ­¤æ¥å£çš„ç±»å°†ä¸å†æ”¯æŒ __sleep() å’Œ __wakeup()ã€‚ä¸è®ºä½•æ—¶ï¼Œåªè¦æœ‰å®ä¾‹éœ€è¦è¢«åºåˆ—åŒ–ï¼Œserialize æ–¹æ³•éƒ½å°†è¢«è°ƒç”¨ã€‚å®ƒå°†ä¸ä¼šè°ƒç”¨ __destruct() æˆ–æœ‰å…¶ä»–å½±å“ï¼Œé™¤éç¨‹åºåŒ–åœ°è°ƒç”¨æ­¤æ–¹æ³•ã€‚å½“æ•°æ®è¢«ååºåˆ—åŒ–æ—¶ï¼Œç±»å°†è¢«æ„ŸçŸ¥å¹¶ä¸”è°ƒç”¨åˆé€‚çš„ unserialize() æ–¹æ³•è€Œä¸æ˜¯è°ƒç”¨ __construct()ã€‚å¦‚æœéœ€è¦æ‰§è¡Œæ ‡å‡†çš„æ„é€ å™¨ï¼Œä½ åº”è¯¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡Œå¤„ç†ã€‚</p>
</blockquote>

<h3 id="closure-ç±»">Closure ç±»</h3>
<blockquote>
  <p>ç”¨äºä»£è¡¨ åŒ¿åå‡½æ•° çš„ç±».
åŒ¿åå‡½æ•°ï¼ˆåœ¨ PHP 5.3 ä¸­è¢«å¼•å…¥ï¼‰ä¼šäº§ç”Ÿè¿™ä¸ªç±»å‹çš„å¯¹è±¡ã€‚åœ¨è¿‡å»ï¼Œè¿™ä¸ªç±»è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå®ç°ç»†èŠ‚ï¼Œä½†ç°åœ¨å¯ä»¥ä¾èµ–å®ƒåšä¸€äº›äº‹æƒ…ã€‚è‡ª PHP 5.4 èµ·ï¼Œè¿™ä¸ªç±»å¸¦æœ‰ä¸€äº›æ–¹æ³•ï¼Œå…è®¸åœ¨åŒ¿åå‡½æ•°åˆ›å»ºåå¯¹å…¶è¿›è¡Œæ›´å¤šçš„æ§åˆ¶ã€‚
é™¤äº†æ­¤å¤„åˆ—å‡ºçš„æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ª __invoke æ–¹æ³•ã€‚è¿™æ˜¯ä¸ºäº†ä¸å…¶ä»–å®ç°äº† __invoke()é­”æœ¯æ–¹æ³• çš„å¯¹è±¡ä¿æŒä¸€è‡´æ€§ï¼Œä½†è°ƒç”¨åŒ¿åå‡½æ•°çš„è¿‡ç¨‹ä¸å®ƒæ— å…³ã€‚</p>
</blockquote>

<h2 id="å®ç°phpæ•°ç»„å¼è®¿é—®æ¥å£">å®ç°PHPæ•°ç»„å¼è®¿é—®æ¥å£</h2>
<pre><code>class Test implements Iterator{
    private $item = array('a' =&gt; 4, 1, 2, 3);

    public function rewind() {
        reset($this-&gt;item);
    }

    public function current() {
        return current($this-&gt;item);
    }

    public function key() {
        return key($this-&gt;item);
    }

    public function next() {
        return next($this-&gt;item);
    }

    public function valid() {
        return($this-&gt;current() !== false);
    }
 }

 $t = new Test;
 foreach($t as $k =&gt; $v){
     var_dump($k, $v);
 }
</code></pre>

<h2 id="phpç›®å‰æœ‰å“ªäº›é¢„è®¢ä¹‰æ•°ç»„å„æ˜¯ä»€ä¹ˆç”¨é€”">PHPç›®å‰æœ‰å“ªäº›é¢„è®¢ä¹‰æ•°ç»„ï¼Œå„æ˜¯ä»€ä¹ˆç”¨é€”ï¼Ÿ</h2>

<h3 id="globals">$GLOBALS</h3>
<p>å¼•ç”¨å…¨å±€ä½œç”¨åŸŸä¸­å¯ç”¨çš„å…¨éƒ¨å˜é‡</p>

<h3 id="_server">$_SERVER</h3>
<p>$HTTP_SERVER_VARS [å·²å¼ƒç”¨] â€” æœåŠ¡å™¨å’Œæ‰§è¡Œç¯å¢ƒä¿¡æ¯<br />
$_SERVER æ˜¯ä¸€ä¸ªåŒ…å«äº†è¯¸å¦‚å¤´ä¿¡æ¯(header)ã€è·¯å¾„(path)ã€ä»¥åŠè„šæœ¬ä½ç½®(script locations)ç­‰ç­‰ä¿¡æ¯çš„æ•°ç»„ã€‚è¿™ä¸ªæ•°ç»„ä¸­çš„é¡¹ç›®ç”± Web æœåŠ¡å™¨åˆ›å»ºã€‚ä¸èƒ½ä¿è¯æ¯ä¸ªæœåŠ¡å™¨éƒ½æä¾›å…¨éƒ¨é¡¹ç›®ï¼›æœåŠ¡å™¨å¯èƒ½ä¼šå¿½ç•¥ä¸€äº›ï¼Œæˆ–è€…æä¾›ä¸€äº›æ²¡æœ‰åœ¨è¿™é‡Œåˆ—ä¸¾å‡ºæ¥çš„é¡¹ç›®ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€å¤§é‡çš„æ­¤ç±»å˜é‡éƒ½ä¼šåœ¨Â» CGI 1.1 è§„èŒƒä¸­è¯´æ˜ï¼Œæ‰€ä»¥åº”è¯¥ä»”ç»†ç ”ç©¶ä¸€ä¸‹ã€‚</p>

<h3 id="_get">$_GET</h3>
<p>$_GET â€“ $HTTP_GET_VARS [å·²å¼ƒç”¨] â€” HTTP GET å˜é‡</p>

<h3 id="_post">$_POST</h3>
<p>$_POST â€“ $HTTP_POST_VARS [å·²å¼ƒç”¨] â€” HTTP POST å˜é‡</p>

<h3 id="_files">$_FILES</h3>
<p>HTTP æ–‡ä»¶ä¸Šä¼ å˜é‡</p>

<h3 id="_cookie">$_COOKIE</h3>
<p>HTTP Cookies</p>

<h3 id="_session">$_SESSION</h3>
<p>Session å˜é‡</p>

<h3 id="_request">$_REQUEST</h3>
<p>é»˜è®¤æƒ…å†µä¸‹åŒ…å«äº† $_GETï¼Œ$_POST å’Œ $_COOKIE çš„æ•°ç»„ã€‚</p>

<h3 id="_env">$_ENV</h3>
<p>$_ENV â€“ $HTTP_ENV_VARS [å·²å¼ƒç”¨] â€” ç¯å¢ƒå˜é‡
é€šè¿‡ç¯å¢ƒæ–¹å¼ä¼ é€’ç»™å½“å‰è„šæœ¬çš„å˜é‡çš„æ•°ç»„ã€‚</p>

<p>è¿™äº›å˜é‡è¢«ä» PHP è§£æå™¨çš„è¿è¡Œç¯å¢ƒå¯¼å…¥åˆ° PHP çš„å…¨å±€å‘½åç©ºé—´ã€‚å¾ˆå¤šæ˜¯ç”±æ”¯æŒ PHP è¿è¡Œçš„ Shell æä¾›çš„ï¼Œå¹¶ä¸”ä¸åŒçš„ç³»ç»Ÿå¾ˆå¯èƒ½è¿è¡Œç€ä¸åŒç§ç±»çš„ Shellï¼Œæ‰€ä»¥ä¸å¯èƒ½æœ‰ä¸€ä»½ç¡®å®šçš„åˆ—è¡¨ã€‚è¯·æŸ¥çœ‹ä½ çš„ Shell æ–‡æ¡£æ¥è·å–å®šä¹‰çš„ç¯å¢ƒå˜é‡åˆ—è¡¨ã€‚<br />
å…¶ä»–ç¯å¢ƒå˜é‡åŒ…å«äº† CGI å˜é‡ï¼Œè€Œä¸ç®¡ PHP æ˜¯ä»¥æœåŠ¡å™¨æ¨¡å—è¿˜æ˜¯ CGI å¤„ç†å™¨çš„æ–¹å¼è¿è¡Œã€‚<br />
$HTTP_ENV_VARS åŒ…å«ç›¸åŒçš„ä¿¡æ¯ï¼Œä½†å®ƒä¸æ˜¯ä¸€ä¸ªè¶…å…¨å±€å˜é‡ã€‚ (æ³¨æ„ $HTTP_ENV_VARS å’Œ $_ENV æ˜¯ä¸åŒçš„å˜é‡ï¼ŒPHP å¤„ç†å®ƒä»¬çš„æ–¹å¼ä¸åŒ)</p>

<h2 id="_evnæ˜¯ä»€ä¹ˆå¦‚ä½•è®©_evnæœ‰æ•ˆ">$_EVNæ˜¯ä»€ä¹ˆï¼Œå¦‚ä½•è®©$_EVNæœ‰æ•ˆï¼Ÿ</h2>

<hr />

<h1 id="æ•°ç»„ç±»å‹è½¬æ¢">æ•°ç»„ç±»å‹è½¬æ¢</h1>

<h2 id="å…¶å®ƒæ•°æ®ç±»å‹è½¬æ¢ä¸ºæ•°ç»„æœ‰ä»€ä¹ˆè§„å¾‹">å…¶å®ƒæ•°æ®ç±»å‹è½¬æ¢ä¸ºæ•°ç»„æœ‰ä»€ä¹ˆè§„å¾‹ï¼Ÿ</h2>

<blockquote>
  <p>å¯¹äºä»»æ„ integerï¼Œfloatï¼Œstringï¼Œboolean å’Œ resource ç±»å‹ï¼Œå¦‚æœå°†ä¸€ä¸ªå€¼è½¬æ¢ä¸ºæ•°ç»„ï¼Œå°†å¾—åˆ°ä¸€ä¸ªä»…æœ‰ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œå…¶ä¸‹æ ‡ä¸º 0ï¼Œè¯¥å…ƒç´ å³ä¸ºæ­¤æ ‡é‡çš„å€¼ã€‚æ¢å¥è¯è¯´ï¼Œ(array)$scalarValue ä¸ array($scalarValue) å®Œå…¨ä¸€æ ·ã€‚<br />
å¦‚æœä¸€ä¸ª object ç±»å‹è½¬æ¢ä¸º arrayï¼Œåˆ™ç»“æœä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå…¶å•å…ƒä¸ºè¯¥å¯¹è±¡çš„å±æ€§ã€‚é”®åå°†ä¸ºæˆå‘˜å˜é‡åï¼Œä¸è¿‡æœ‰å‡ ç‚¹ä¾‹å¤–ï¼šæ•´æ•°å±æ€§ä¸å¯è®¿é—®ï¼›ç§æœ‰å˜é‡å‰ä¼šåŠ ä¸Šç±»åä½œå‰ç¼€ï¼›ä¿æŠ¤å˜é‡å‰ä¼šåŠ ä¸Šä¸€ä¸ª â€˜*â€™ åšå‰ç¼€ã€‚è¿™äº›å‰ç¼€çš„å‰åéƒ½å„æœ‰ä¸€ä¸ª NULL å­—ç¬¦ã€‚è¿™ä¼šå¯¼è‡´ä¸€äº›ä¸å¯é¢„çŸ¥çš„è¡Œä¸º<br />
å°† NULL è½¬æ¢ä¸º array ä¼šå¾—åˆ°ä¸€ä¸ªç©ºçš„æ•°ç»„ã€‚</p>
</blockquote>

<h2 id="æœ‰å“ªäº›æ–¹æ³•å¯ä»¥å®ç°æ•°ç»„çš„ä¸²è¡ŒåŒ–">æœ‰å“ªäº›æ–¹æ³•å¯ä»¥å®ç°æ•°ç»„çš„ä¸²è¡ŒåŒ–ï¼Ÿ</h2>

<p><code>serialize</code> <code>unserialize</code><br />
<code>json_encode</code> <code>json_decode</code><br />
<code>implode</code> <code>explode</code><br />
<code>CJSON</code></p>

<hr />

<h1 id="æ•°ç»„çš„éå†">æ•°ç»„çš„éå†</h1>

<h2 id="éå†æ•°ç»„æœ‰å¤šå°‘ç§æ–¹æ³•å¦‚ä½•é€‰ç”¨è¿™äº›æ–¹æ³•">éå†æ•°ç»„æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Œå¦‚ä½•é€‰ç”¨è¿™äº›æ–¹æ³•ï¼Ÿ</h2>

<ul>
  <li>for</li>
  <li>foreach</li>
  <li>list each</li>
  <li>array_walk</li>
  <li>array_map</li>
  <li>end current next pos prev reset</li>
</ul>

<h2 id="array_walk-ä¸-array_map-æœ‰ä»€ä¹ˆä¸åŒ"><code>array_walk</code> ä¸ <code>array_map</code> æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h2>

<p><strong>array array_map ( callable $callback , array $arr1 [, array $â€¦ ] )</strong></p>

<blockquote>
  <p>array_map() è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„åŒ…å«äº† arr1 ä¸­çš„æ‰€æœ‰å•å…ƒç»è¿‡ callback ä½œç”¨è¿‡ä¹‹åçš„å•å…ƒã€‚callback æ¥å—çš„å‚æ•°æ•°ç›®åº”è¯¥å’Œä¼ é€’ç»™ array_map() å‡½æ•°çš„æ•°ç»„æ•°ç›®ä¸€è‡´ã€‚</p>
</blockquote>

<p><strong>bool array_walk ( array &amp;$array , callable $funcname [, mixed $userdata = NULL ] )</strong></p>

<blockquote>
  <p>array_walk() ä¸ä¼šå—åˆ° array å†…éƒ¨æ•°ç»„æŒ‡é’ˆçš„å½±å“ã€‚array_walk() ä¼šéå†æ•´ä¸ªæ•°ç»„è€Œä¸ç®¡æŒ‡é’ˆçš„ä½ç½®ã€‚å°†ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•° funcname åº”ç”¨åˆ° array æ•°ç»„ä¸­çš„æ¯ä¸ªå•å…ƒã€‚</p>
</blockquote>

<h2 id="for-å’Œ-foreach-è°æ›´å¿«å‘¢ä¸ºä»€ä¹ˆ"><code>for</code> å’Œ <code>foreach</code> è°æ›´å¿«å‘¢ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h2>

<blockquote>
  <p>æœ‰å¾ˆå¤šå…³äºPHPæ•°ç»„çš„éå†æ•ˆç‡çš„è¯¯è§£ã€‚æˆ‘æ‰“ç®—å°½é‡æ­å¼€å®ƒçš„ç¥ç§˜é¢çº±ã€‚</p>
</blockquote>

<p>æµ‹è¯•åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>

<ol>
  <li>è¯»ï¼šåªéå†æ•°ç»„ï¼Œä¸ä¿®æ”¹æ•°ç»„</li>
  <li>å†™ï¼šéå†æ•°ç»„ï¼Œå¹¶ä¿®æ”¹æ•°ç»„</li>
</ol>

<p>æµ‹è¯•ç‰ˆæœ¬ï¼šPHP 5.5.9-1ubuntu4.5 (cli) (built: Oct 29 2014 11:59:10)<br />
æµ‹è¯•æ•°ç»„ï¼š<code>$array = range(1, 1000000);</code></p>

<p><strong>æµ‹è¯•è¯»</strong></p>

<pre><code>$start = microtime(true);
foreach($array as $value){$value;};
printf('%.6f' . PHP_EOL, microtime(true) - $start);

$start = microtime(true);
$count = count($array);
for($i=0;$i&lt;$count;$i++){$array[$i];}
printf('%.6f' . PHP_EOL, microtime(true) - $start);
</code></pre>

<p>å¸¸è§é”™è¯¯ï¼š</p>

<ol>
  <li>æ¯”è¾ƒä¸¤ä¸ªç©ºå¾ªç¯ï¼š<code>foreach($array as $value);</code> <code>for($i=0;$i&lt;$count;$i++);</code> <code>for-loop</code>æ ¹æœ¬æ²¡æœ‰éå†æ•°ç»„ï¼Œå› æ­¤ç»“æœæ²¡æœ‰å¤šå°‘å‚è€ƒä»·å€¼ã€‚</li>
  <li><code>for($i=0;$i&lt;count($array);$i++)</code> PHPæ¯æ¬¡å¾ªç¯éƒ½ä¼šé‡æ–°è®¡ç®—<code>count($array)</code>çš„å€¼ï¼Œè™½ç„¶æ—¶é—´å¤æ‚åº¦ä¸º1ï¼Œä½†ä»ä¼šå¯¹ç»“æœäº§ç”Ÿå½±å“ã€‚</li>
</ol>

<p>ç»“æœåˆ†æï¼š</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">foreach</th>
      <th style="text-align: left">Â </th>
      <th>for</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">0.040372</td>
      <td style="text-align: left">Â </td>
      <td>0.063877</td>
    </tr>
  </tbody>
</table>

<p>ç»“æœåˆ†æï¼š
PHPæ•°ç»„å†…éƒ¨æŒ‡é’ˆ(Bucket *pInternalPointer)æŒ‡å‘å½“å‰æ•°ç»„å…ƒç´ (Bucket)ï¼Œå½“å‰æ•°ç»„å…ƒç´ ä¿å­˜ç€æŒ‡å‘ä¸‹ä¸€å…ƒç´ çš„æŒ‡é’ˆ(struct bucket *pListNext)ï¼Œ<code>foreach</code>èƒ½ç”¨åˆ°è¿™ä¸ªç»“æ„å¿«é€Ÿéå†æ•´ä¸ªæ•°ç»„ã€‚
<code>for-loop</code>çš„å¼€é”€åœ¨äºå“ˆå¸Œç®—æ³•ï¼Œä»¥åŠå“ˆå¸Œå†²çªæ—¶éå†æ•´ä¸ªBucketï¼ˆPHPä¸­çš„å“ˆå¸Œè¡¨æ˜¯ä½¿ç”¨æ‹‰é“¾æ³•æ¥è§£å†³å†²çªçš„ï¼Œå…·ä½“ç‚¹è®²å°±æ˜¯ä½¿ç”¨é“¾è¡¨æ¥å­˜å‚¨å“ˆå¸Œåˆ°åŒä¸€ä¸ªæ§½ä½çš„æ•°æ®ï¼Œ Zendä¸ºäº†ä¿å­˜æ•°æ®ä¹‹é—´çš„å…³ç³»ä½¿ç”¨äº†åŒå‘åˆ—è¡¨æ¥é“¾æ¥å…ƒç´ )</p>

<p><strong>æµ‹è¯•å†™</strong></p>

<pre><code>$start = microtime(true);
foreach($array as $key =&gt; $value) {
	$array[$key] += 1;
}
printf('%.6f' . PHP_EOL, microtime(true) - $start);

$start = microtime(true);
$count = count($array);
for($i=0;$i&lt;$count;$i++) {
	$array[$i] += 1;
}
printf('%.6f' . PHP_EOL, microtime(true) - $start);
</code></pre>

<p>å¸¸è§é”™è¯¯ï¼š</p>

<ol>
  <li>åªæµ‹è¯•è¯»æ€§èƒ½ï¼Œå¿½ç•¥å†™æ€§èƒ½</li>
  <li>æµ‹è¯•å†™çš„ä»£ç æœ¬èº«æœ‰ä¸ªé—®é¢˜ï¼Œå¾…ä¼šå†è¯´</li>
</ol>

<p>ç»“æœåˆ†æï¼š</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">foreach</th>
      <th style="text-align: left">Â </th>
      <th>for</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">0.299544</td>
      <td style="text-align: left">Â </td>
      <td>0.077412</td>
    </tr>
  </tbody>
</table>

<p><code>foreach</code>å¾ªç¯æ€§èƒ½ä¸‹é™å¾ˆå¿«ï¼Œä¸»è¦æ€§èƒ½æ¶ˆè€—åœ¨æ‰§è¡Œå˜é‡åˆ†ç¦»ï¼ˆPHPçš„COWæœºåˆ¶ï¼ˆcopy on write å†™æ—¶å¤åˆ¶)ï¼Œéå†æ—¶<code>$value</code> and <code>$array[$key]</code>å…±åŒæŒ‡å‘ä¸€ä¸ª<code>Bucket</code>, æ‰€ä»¥æ€§èƒ½æŸè€—å¾ˆå°ï¼Œä½†å½“å…¶ä¸­ä¸€ä¸ªå€¼æ”¹å˜æ—¶ï¼Œåˆ™éœ€è¦æ‰§è¡Œå˜é‡åˆ†ç¦»)</p>

<p>*è¿™ä¹Ÿæ˜¯æµ‹è¯•ä»£ç çš„é—®é¢˜æ‰€åœ¨ï¼Œ<code>foreach</code>ä¸ä»…æ‰§è¡Œäº†å“ˆå¸ŒæŸ¥æ‰¾ï¼Œè¿˜è¿›è¡Œäº†å˜é‡åˆ†ç¦»ï¼Œæœ‰ä¸ªåŠæ³•å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œä½†å¾ˆå°‘äººç”¨ï¼š</p>

<pre><code>foreach($array as &amp;$value) {
    $value += 1;
}
unset($value);
</code></pre>

<h2 id="phpæ•°ç»„åœ¨åº•å®ç°ä¸Šæ˜¯ä»€ä¹ˆæ•°æ®ç»“æ„">PHPæ•°ç»„åœ¨åº•å®ç°ä¸Šæ˜¯ä»€ä¹ˆæ•°æ®ç»“æ„ï¼Ÿ</h2>

<p>PHPä¸­çš„å“ˆå¸Œè¡¨å®ç°åœ¨Zend/zend_hash.cä¸­ï¼Œ PHPä½¿ç”¨å¦‚ä¸‹ä¸¤ä¸ªæ•°æ®ç»“æ„æ¥å®ç°å“ˆå¸Œè¡¨ï¼ŒHashTableç»“æ„ä½“ç”¨äºä¿å­˜æ•´ä¸ªå“ˆå¸Œè¡¨éœ€è¦çš„åŸºæœ¬ä¿¡æ¯ï¼Œ è€ŒBucketç»“æ„ä½“ç”¨äºä¿å­˜å…·ä½“çš„æ•°æ®å†…å®¹</p>

<pre><code>typedef struct _hashtable { 
    uint nTableSize;        // hash Bucketçš„å¤§å°ï¼Œæœ€å°ä¸º8ï¼Œä»¥2xå¢é•¿ã€‚
    uint nTableMask;        // nTableSize-1 ï¼Œ ç´¢å¼•å–å€¼çš„ä¼˜åŒ–
    uint nNumOfElements;    // hash Bucketä¸­å½“å‰å­˜åœ¨çš„å…ƒç´ ä¸ªæ•°ï¼Œcount()å‡½æ•°ä¼šç›´æ¥è¿”å›æ­¤å€¼ 
    ulong nNextFreeElement; // ä¸‹ä¸€ä¸ªæ•°å­—ç´¢å¼•çš„ä½ç½®
    Bucket *pInternalPointer;   // å½“å‰éå†çš„æŒ‡é’ˆï¼ˆforeachæ¯”forå¿«çš„åŸå› ä¹‹ä¸€ï¼‰
    Bucket *pListHead;          // å­˜å‚¨æ•°ç»„å¤´å…ƒç´ æŒ‡é’ˆ
    Bucket *pListTail;          // å­˜å‚¨æ•°ç»„å°¾å…ƒç´ æŒ‡é’ˆ
    Bucket **arBuckets;         // å­˜å‚¨hashæ•°ç»„
    dtor_func_t pDestructor;    // åœ¨åˆ é™¤å…ƒç´ æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼Œç”¨äºèµ„æºçš„é‡Šæ”¾
    zend_bool persistent;       //æŒ‡å‡ºäº†Bucketå†…å­˜åˆ†é…çš„æ–¹å¼ã€‚å¦‚æœpersisientä¸ºTRUEï¼Œåˆ™ä½¿ç”¨æ“ä½œç³»ç»Ÿæœ¬èº«çš„å†…å­˜åˆ†é…å‡½æ•°ä¸ºBucketåˆ†é…å†…å­˜ï¼Œå¦åˆ™ä½¿ç”¨PHPçš„å†…å­˜åˆ†é…å‡½æ•°ã€‚
    unsigned char nApplyCount; // æ ‡è®°å½“å‰hash Bucketè¢«é€’å½’è®¿é—®çš„æ¬¡æ•°ï¼ˆé˜²æ­¢å¤šæ¬¡é€’å½’ï¼‰
    zend_bool bApplyProtection;// æ ‡è®°å½“å‰hashæ¡¶å…è®¸ä¸å…è®¸å¤šæ¬¡è®¿é—®ï¼Œä¸å…è®¸æ—¶ï¼Œæœ€å¤šåªèƒ½é€’å½’3æ¬¡
#if ZEND_DEBUG
    int inconsistent;
#endif
} HashTable;
</code></pre>

<p><strong>æ•°æ®å®¹å™¨ï¼šæ§½ä½</strong></p>

<pre><code>typedef struct bucket {
    ulong h;            // å¯¹char *keyè¿›è¡Œhashåçš„å€¼ï¼Œæˆ–è€…æ˜¯ç”¨æˆ·æŒ‡å®šçš„æ•°å­—ç´¢å¼•å€¼
    uint nKeyLength;    // hashå…³é”®å­—çš„é•¿åº¦ï¼Œå¦‚æœæ•°ç»„ç´¢å¼•ä¸ºæ•°å­—ï¼Œæ­¤å€¼ä¸º0
    void *pData;        // æŒ‡å‘valueï¼Œä¸€èˆ¬æ˜¯ç”¨æˆ·æ•°æ®çš„å‰¯æœ¬ï¼Œå¦‚æœæ˜¯æŒ‡é’ˆæ•°æ®ï¼Œåˆ™æŒ‡å‘pDataPtr
    void *pDataPtr;     //å¦‚æœæ˜¯æŒ‡é’ˆæ•°æ®ï¼Œæ­¤å€¼ä¼šæŒ‡å‘çœŸæ­£çš„valueï¼ŒåŒæ—¶ä¸Šé¢pDataä¼šæŒ‡å‘æ­¤å€¼
    struct bucket *pListNext;   // æ•´ä¸ªhashè¡¨çš„ä¸‹ä¸€å…ƒç´ 
    struct bucket *pListLast;   // æ•´ä¸ªå“ˆå¸Œè¡¨è¯¥å…ƒç´ çš„ä¸Šä¸€ä¸ªå…ƒç´ 
    struct bucket *pNext;       // å­˜æ”¾åœ¨åŒä¸€ä¸ªhash Bucketå†…çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
    struct bucket *pLast;       // åŒä¸€ä¸ªå“ˆå¸Œbucketçš„ä¸Šä¸€ä¸ªå…ƒç´ 
    // ä¿å­˜å½“å‰å€¼æ‰€å¯¹äºçš„keyå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—æ®µåªèƒ½å®šä¹‰åœ¨æœ€åï¼Œå®ç°å˜é•¿ç»“æ„ä½“
    char arKey[1];              
} Bucket;
</code></pre>

<p><img src="/assets/image/arrays.png" alt="" /></p>

<h2 id="å¦‚ä½•ç”¨æŒ‡é’ˆå‡½æ•°æ“ä½œphpæ•°ç»„">å¦‚ä½•ç”¨æŒ‡é’ˆå‡½æ•°æ“ä½œPHPæ•°ç»„ï¼Ÿ</h2>

<pre><code>reset($array);
while(list($key, $value) = each($array));

$value = reset($array);
do {
} while($value = next($array));
</code></pre>

<h2 id="ä½¿ç”¨foreachæ—¶åº”è¯¥æ³¨æ„ä»€ä¹ˆé—®é¢˜">ä½¿ç”¨<code>foreach</code>æ—¶åº”è¯¥æ³¨æ„ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2>

<ol>
  <li>foreach ä¾èµ–å†…éƒ¨æ•°ç»„æŒ‡é’ˆï¼Œåœ¨å¾ªç¯ä¸­ä¿®æ”¹å…¶å€¼å°†å¯èƒ½å¯¼è‡´æ„å¤–çš„è¡Œä¸ºã€‚</li>
  <li>å½“ foreach å¼€å§‹æ‰§è¡Œæ—¶ï¼Œæ•°ç»„å†…éƒ¨çš„æŒ‡é’ˆä¼šè‡ªåŠ¨æŒ‡å‘ç¬¬ä¸€ä¸ªå•å…ƒã€‚è¿™æ„å‘³ç€ä¸éœ€è¦åœ¨ foreach å¾ªç¯ä¹‹å‰è°ƒç”¨ reset()ã€‚</li>
  <li>æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ $value å¼•ç”¨åœ¨ foreach å¾ªç¯ä¹‹åä»ä¼šä¿ç•™ã€‚å»ºè®®ä½¿ç”¨ unset() æ¥å°†å…¶é”€æ¯ã€‚</li>
  <li>foreach ä¸æ”¯æŒç”¨â€œ@â€æ¥æŠ‘åˆ¶é”™è¯¯ä¿¡æ¯çš„èƒ½åŠ›ã€‚</li>
  <li>foreach ç»“æŸå¾ªç¯æ—¶ï¼Œ æ•°ç»„å†…éƒ¨æŒ‡é’ˆä¼šæŒ‡å‘ä¸‹ä¸€ä¸ªå•å…ƒã€‚</li>
</ol>

<h3 id="æ€è€ƒä¼šè¾“å‡ºä»€ä¹ˆç»“æœä¸ºä»€ä¹ˆ">æ€è€ƒï¼Œä¼šè¾“å‡ºä»€ä¹ˆç»“æœï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h3>

<p>1.</p>

<pre><code>$array = array(1,2,3,4);
echo next($array);

foreach ($array as $value) {
  if (!next($array)) reset($array);
}

echo current($array);
</code></pre>

<p>2.</p>

<pre><code>$array = array(1,2,3,4);
foreach($array as $key =&gt; $value) {
	$array[$key] = &amp;$value;	
}
</code></pre>

<p>3.</p>

<pre><code>$array = array(1,2,3,4);
foreach($array as $key =&gt; $value) {
	$value = &amp;$array[$key];	
}
</code></pre>

<hr />

<h1 id="æ•°ç»„å…ƒç´ æŸ¥æ‰¾">æ•°ç»„å…ƒç´ æŸ¥æ‰¾</h1>

<h2 id="å¦‚ä½•åˆ¤æ–­æ•°ç»„ä¸­keyæ˜¯å¦å­˜åœ¨">å¦‚ä½•åˆ¤æ–­æ•°ç»„ä¸­keyæ˜¯å¦å­˜åœ¨ï¼Ÿ</h2>

<ol>
  <li><code>array_key_exists</code> æ£€æŸ¥ç»™å®šçš„é”®åæˆ–ç´¢å¼•æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ã€‚</li>
  <li><code>isset</code> æ£€æµ‹å˜é‡æ˜¯å¦è®¾ç½®ï¼Œå¹¶ä¸”ä¸æ˜¯ NULLã€‚</li>
</ol>

<h2 id="å¦‚ä½•åˆ¤æ–­æ•°ç»„ä¸­å€¼æ˜¯å¦å­˜åœ¨">å¦‚ä½•åˆ¤æ–­æ•°ç»„ä¸­å€¼æ˜¯å¦å­˜åœ¨ï¼Ÿ</h2>

<ol>
  <li><code>in_array</code>  æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼</li>
  <li><code>array_search</code> åœ¨æ•°ç»„ä¸­æœç´¢ç»™å®šçš„å€¼ï¼Œå¦‚æœæˆåŠŸåˆ™è¿”å›ç›¸åº”çš„é”®å</li>
  <li><code>array_keys</code> è¿”å›æ•°ç»„ä¸­æ‰€æœ‰çš„é”®åï¼Œå¦‚æœæŒ‡å®šäº†å¯é€‰å‚æ•° search_valueï¼Œåˆ™åªè¿”å›è¯¥å€¼çš„é”®åã€‚å¦åˆ™ input æ•°ç»„ä¸­çš„æ‰€æœ‰é”®åéƒ½ä¼šè¢«è¿”å›ã€‚</li>
</ol>

<h2 id="å¦‚ä½•ä¾æ®æ•°ç»„çš„keyè¿”å›å€¼">å¦‚ä½•ä¾æ®æ•°ç»„çš„keyè¿”å›å€¼ï¼Ÿ</h2>

<p><code>$array[$key]</code></p>

<h2 id="å¦‚ä½•ä¾æ®æ•°ç»„çš„å€¼è¿”å›key">å¦‚ä½•ä¾æ®æ•°ç»„çš„å€¼è¿”å›keyï¼Ÿ</h2>

<ol>
  <li><code>array_flip</code></li>
  <li><code>array_search</code> åœ¨æ•°ç»„ä¸­æœç´¢ç»™å®šçš„å€¼ï¼Œå¦‚æœæˆåŠŸåˆ™è¿”å›ç›¸åº”çš„é”®å</li>
  <li><code>array_keys</code> è¿”å›æ•°ç»„ä¸­æ‰€æœ‰çš„é”®åï¼Œå¦‚æœæŒ‡å®šäº†å¯é€‰å‚æ•° search_valueï¼Œåˆ™åªè¿”å›è¯¥å€¼çš„é”®åã€‚å¦åˆ™ input æ•°ç»„ä¸­çš„æ‰€æœ‰é”®åéƒ½ä¼šè¢«è¿”å›ã€‚</li>
</ol>

<h2 id="å¦‚ä½•ä¾æ®ç»™å®šå€¼åœ¨æ•°ç»„è¿›è¡Œæ¨¡ç³ŠæŸ¥æ‰¾">å¦‚ä½•ä¾æ®ç»™å®šå€¼åœ¨æ•°ç»„è¿›è¡Œæ¨¡ç³ŠæŸ¥æ‰¾ï¼Ÿ</h2>

<pre><code>$array = array(599 =&gt; 'PHP', 'JAVA');
$search = 'P';
$result = array_filter(array_map(function($value) use ($search) {
		return is_numeric(strpos($value, $search)) ? $value :  false;
}, $array));
</code></pre>

<h2 id="äºŒç»´æˆ–è€…å¤šç»´æ•°ç»„æ•°æ®å¤„ç†æœ‰ä»€ä¹ˆæŠ€å·§">äºŒç»´æˆ–è€…å¤šç»´æ•°ç»„æ•°æ®å¤„ç†æœ‰ä»€ä¹ˆæŠ€å·§ï¼Ÿ</h2>

<pre><code>    $grade = array("score" =&gt; array(70, 95, 70.0, 60, "70"),
                   "name" =&gt; array("Zhang San", "Li Si", "Wang Wu",
                                   "Zhao Liu", "Liu Qi"));
    array_multisort($grade["score"], SORT_NUMERIC, SORT_DESC,
                    // å°†åˆ†æ•°ä½œä¸ºæ•°å€¼ï¼Œç”±é«˜åˆ°ä½æ’åº
                    $grade["name"], SORT_STRING, SORT_ASC);
                    // å°†åå­—ä½œä¸ºå­—ç¬¦ä¸²ï¼Œç”±å°åˆ°å¤§æ’åº
</code></pre>

<pre><code>$data[] = array('volume' =&gt; 67, 'edition' =&gt; 2);
$data[] = array('volume' =&gt; 86, 'edition' =&gt; 1);
$data[] = array('volume' =&gt; 85, 'edition' =&gt; 6);
$data[] = array('volume' =&gt; 98, 'edition' =&gt; 2);
$data[] = array('volume' =&gt; 86, 'edition' =&gt; 6);
$data[] = array('volume' =&gt; 67, 'edition' =&gt; 7);

$volume  = array_column($data, 'volume');
$edition = array_column($data, 'edition');

array_multisort($volume, SORT_DESC, $edition, SORT_ASC, $data);
</code></pre>

<hr />

<h1 id="æ•°ç»„å…ƒç´ æ’å…¥å’Œç§»é™¤">æ•°ç»„å…ƒç´ æ’å…¥å’Œç§»é™¤</h1>

<h2 id="å¦‚ä½•å¾€phpæ•°ç»„ä¸­ä»»æ„ä½ç½®åŠ å…¥å…ƒç´ ">å¦‚ä½•å¾€PHPæ•°ç»„ä¸­ä»»æ„ä½ç½®åŠ å…¥å…ƒç´ ï¼Ÿ</h2>

<ul>
  <li>
    <p>array_splice â€” æŠŠæ•°ç»„ä¸­çš„ä¸€éƒ¨åˆ†å»æ‰å¹¶ç”¨å…¶å®ƒå€¼å–ä»£ã€‚æŠŠ input æ•°ç»„ä¸­ç”± offset å’Œ length æŒ‡å®šçš„å•å…ƒå»æ‰ï¼Œå¦‚æœæä¾›äº† replacement å‚æ•°ï¼Œåˆ™ç”¨å…¶ä¸­çš„å•å…ƒå–ä»£ã€‚æ³¨æ„ input ä¸­çš„æ•°å­—é”®åä¸è¢«ä¿ç•™ã€‚
<code>array_splice($array, 1, 0, array('Python', 'JAVASCRIPT'));</code></p>
  </li>
  <li>
    <p>array_slice â€” ä»æ•°ç»„ä¸­å–å‡ºä¸€æ®µ</p>
  </li>
</ul>

<h2 id="phpæ•°ç»„å…ƒç´ çš„è¿‡æ»¤å’Œç§»é™¤æœ‰å“ªäº›æ–¹æ³•å¯ä»¥å®ç°">PHPæ•°ç»„å…ƒç´ çš„è¿‡æ»¤å’Œç§»é™¤æœ‰å“ªäº›æ–¹æ³•å¯ä»¥å®ç°ï¼Ÿ</h2>

<ul>
  <li>array_filter â€” ç”¨å›è°ƒå‡½æ•°è¿‡æ»¤æ•°ç»„ä¸­çš„å•å…ƒ</li>
</ul>

<blockquote>
  <p>array array_filter ( array $input [, callable $callback = â€œâ€ ] )<br />
ä¾æ¬¡å°† input æ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ä¼ é€’åˆ° callback å‡½æ•°ã€‚å¦‚æœ callback å‡½æ•°è¿”å› TRUEï¼Œåˆ™ input æ•°ç»„çš„å½“å‰å€¼ä¼šè¢«åŒ…å«åœ¨è¿”å›çš„ç»“æœæ•°ç»„ä¸­ã€‚æ•°ç»„çš„é”®åä¿ç•™ä¸å˜ã€‚</p>
</blockquote>

<hr />

<h1 id="æ•°ç»„çš„æ’åºå’Œå¯¹æ¯”">æ•°ç»„çš„æ’åºå’Œå¯¹æ¯”</h1>

<h2 id="å¦‚ä½•å·§å¦™è®°å¿†phpæ•°ç»„ä¸­çš„æ’åºå‡½æ•°">å¦‚ä½•å·§å¦™è®°å¿†PHPæ•°ç»„ä¸­çš„æ’åºå‡½æ•°ï¼Ÿ</h2>

<ul>
  <li>sort() - ä»¥å‡åºå¯¹æ•°ç»„æ’åº</li>
  <li>rsort() - ä»¥é™åºå¯¹æ•°ç»„æ’åº</li>
  <li>asort() - æ ¹æ®å€¼ï¼Œä»¥å‡åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åº</li>
  <li>ksort() - æ ¹æ®é”®ï¼Œä»¥å‡åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åº</li>
  <li>arsort() - æ ¹æ®å€¼ï¼Œä»¥é™åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åº</li>
  <li>krsort() - æ ¹æ®é”®ï¼Œä»¥é™åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åº</li>
</ul>

<h2 id="å¦‚ä½•è¿ç”¨array_multisortå‡½æ•°">å¦‚ä½•è¿ç”¨<code>array_multisort</code>å‡½æ•°ï¼Ÿ</h2>

<h2 id="å¦‚ä½•å¯¹phpå¤šç»´æ•°ç»„å’Œå¯¹è±¡æ•°ç»„æ’åº">å¦‚ä½•å¯¹PHPå¤šç»´æ•°ç»„å’Œå¯¹è±¡æ•°ç»„æ’åºï¼Ÿ</h2>

<hr />

<h1 id="æ•°ç»„å’Œæ•°æ®ç»“æ„">æ•°ç»„å’Œæ•°æ®ç»“æ„</h1>

<h2 id="phpæ•°ç»„èƒ½å¤Ÿå®ç°å“ªäº›æ•°æ®ç»“æ„">PHPæ•°ç»„èƒ½å¤Ÿå®ç°å“ªäº›æ•°æ®ç»“æ„ï¼Ÿ</h2>

<ul>
  <li>å †</li>
  <li>æ ˆ</li>
  <li>é˜Ÿåˆ—</li>
</ul>

<h2 id="phpæ•°ç»„å¦‚ä½•è¿›è¡Œé›†åˆç›¸å…³çš„è¿ç®—">PHPæ•°ç»„å¦‚ä½•è¿›è¡Œé›†åˆç›¸å…³çš„è¿ç®—ï¼Ÿ</h2>

<ul>
  <li>array_merge åˆå¹¶ä¸€ä¸ªæˆ–å¤šä¸ªæ•°ç»„<br />
array array_merge ( array $array1 [, array $â€¦ ] )<br />
array_merge() å°†ä¸€ä¸ªæˆ–å¤šä¸ªæ•°ç»„çš„å•å…ƒåˆå¹¶èµ·æ¥ï¼Œä¸€ä¸ªæ•°ç»„ä¸­çš„å€¼é™„åŠ åœ¨å‰ä¸€ä¸ªæ•°ç»„çš„åé¢ã€‚è¿”å›ä½œä¸ºç»“æœçš„æ•°ç»„ã€‚
å¦‚æœè¾“å…¥çš„æ•°ç»„ä¸­æœ‰ç›¸åŒçš„å­—ç¬¦ä¸²é”®åï¼Œåˆ™è¯¥é”®ååé¢çš„å€¼å°†è¦†ç›–å‰ä¸€ä¸ªå€¼ã€‚ç„¶è€Œï¼Œå¦‚æœæ•°ç»„åŒ…å«æ•°å­—é”®åï¼Œåé¢çš„å€¼å°†ä¸ä¼šè¦†ç›–åŸæ¥çš„å€¼ï¼Œè€Œæ˜¯é™„åŠ åˆ°åé¢ã€‚
å¦‚æœåªç»™äº†ä¸€ä¸ªæ•°ç»„å¹¶ä¸”è¯¥æ•°ç»„æ˜¯æ•°å­—ç´¢å¼•çš„ï¼Œåˆ™é”®åä¼šä»¥è¿ç»­æ–¹å¼é‡æ–°ç´¢å¼•ã€‚</li>
  <li>array_chunk â€” å°†ä¸€ä¸ªæ•°ç»„åˆ†å‰²æˆå¤šä¸ª<br />
array array_chunk ( array $input , int $size [, bool $preserve_keys = false ] )<br />
å°†ä¸€ä¸ªæ•°ç»„åˆ†å‰²æˆå¤šä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªæ•°ç»„çš„å•å…ƒæ•°ç›®ç”± size å†³å®šã€‚æœ€åä¸€ä¸ªæ•°ç»„çš„å•å…ƒæ•°ç›®å¯èƒ½ä¼šå°‘äº size ä¸ªã€‚</li>
  <li>array_diff è®¡ç®—æ•°ç»„çš„å·®é›†<br />
array array_diff ( array $array1 , array $array2 [, array $â€¦ ] )<br />
å¯¹æ¯”è¿”å›åœ¨ array1 ä¸­ä½†æ˜¯ä¸åœ¨ array2 åŠä»»ä½•å…¶å®ƒå‚æ•°æ•°ç»„ä¸­çš„å€¼ã€‚</li>
</ul>

<h2 id="å·§å¦™å®ç°éå†å­é›†">å·§å¦™å®ç°éå†å­é›†</h2>

<pre><code>array_map(function($value) {}, $array);
</code></pre>

<h2 id="phpæ•°ç»„å¦‚ä½•å®ç°å †æ ˆ">PHPæ•°ç»„å¦‚ä½•å®ç°å †æ ˆï¼Ÿ</h2>

<ul>
  <li>å † <code>SplHeap</code></li>
  <li>æ ˆ <code>SplStack</code></li>
</ul>

<h2 id="ç”¨å †æ ˆè§£å†³10è¿›åˆ¶è½¬æ¢ä¸º2è¿›åˆ¶æ•°">ç”¨å †æ ˆè§£å†³10è¿›åˆ¶è½¬æ¢ä¸º2è¿›åˆ¶æ•°</h2>

<pre><code>$n = 254;
$a = [];
while($n &gt; 1) {
	$a[] = $n % 2;
	$n &gt;&gt;= 1;
}
echo implode('', array_reverse($a));
</code></pre>

<h2 id="ä½¿ç”¨é˜Ÿåˆ—çš„æ–¹å¼è§£å†³ç›®å½•éå†">ä½¿ç”¨é˜Ÿåˆ—çš„æ–¹å¼è§£å†³ç›®å½•éå†</h2>

<p><strong>é€’å½’è°ƒç”¨</strong></p>

<pre><code>function recursiveDirectory($dir) {
	if (is_dir($dir) &amp;&amp; $db = opendir($dir)) {
		while ($file = readdir($db)) {
			$path = $dir . '/' . $file;
			if (in_array($file, array('.', '..'))) {
				$files[] = $file;
				continue;
			} elseif (is_dir($path)) {
				RecursiveDirectory($path);
			} elseif (is_file($path)) {
			}
		}	
		closedir($db);
	}
}
</code></pre>

<p><strong>ä½¿ç”¨é˜Ÿåˆ—</strong></p>

<pre><code>function queueDirectory($dir) {
	$queue = array('');
	while (($file = array_shift($queue)) !== null) {
		$path = join(DIRECTORY_SEPARATOR, array($dir, $file));
		if (in_array($file, array('.', '..'))) {
			$files[] = $file;
			continue;
		} elseif (is_dir($path) &amp;&amp; $dh = opendir($path)) {
			while ($file = readdir($dh)) {
				$queue[] = $file;
			}
			closedir($dh);
		} elseif (is_file($path)) {
		}
	}
}
</code></pre>

<p><strong>ä½¿ç”¨SPL</strong></p>

<pre><code>$objects = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($path), RecursiveIteratorIterator::SELF_FIRST);
foreach($objects as $name =&gt; $object){
}
</code></pre>

<h2 id="çº¦ç‘Ÿå¤«ç¯é—®é¢˜">â€œçº¦ç‘Ÿå¤«ç¯â€é—®é¢˜</h2>

<pre><code>function josephus($n, $m) {
    $i = 1;
    while (count($n) &gt; 1) {
        foreach ($n as $k =&gt; $v) {
            if ($i++ == $m) {
                unset($n[$k]);
                $i = 1;
            }
        }
    }

    return array_pop($n);
}
</code></pre>

<pre><code>function josephus($total, $index) {
    $result = 0;
    for($i=2; $i&lt;= $total; $i++) {
        $result = ($result + $index) % $i;
    }
    $num = $result + 1;
    
    return $num;
}
</code></pre>
<hr />

<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<p><a href="http://www.laruence.com/2009/08/23/1065.html">æ·±å…¥ç†è§£PHPä¹‹æ•°ç»„(éå†é¡ºåº)</a><br />
<a href="http://www.laruence.com/2008/11/20/630.html">æ·±å…¥ç†è§£PHPåŸç†ä¹‹foreach</a><br />
<a href="http://www.php-internals.com/book/">æ·±å…¥ç†è§£PHPå†…æ ¸</a><br />
<a href="http://www.phpbench.com/">The PHP Benchmark</a><br />
<a href="http://sheriframadan.com/2012/10/a-closer-look-into-php-arrays/">A Closer Look Into PHP Arrays: What You Donâ€™t See</a><br />
<a href="http://www.laruence.com/2008/09/19/520.html">æ·±å…¥ç†è§£PHPåŸç†ä¹‹å˜é‡åˆ†ç¦»/å¼•ç”¨(Variables Separation)</a>\</p>
:ET