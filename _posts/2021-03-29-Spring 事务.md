---
title: "ByteBuddy入坑"
description: "ByteBuddy入坑"
category: Spring
tags: [Java, Spring, ByteBuddy, 字节码]
toc: true
---

# Spring 事务抽象

Spring事务管理的五大属性：**隔离级别**、**传播行为**、**是否只读**、**事务超时**、**回滚规则**

## 对Spring事务传播性的理解

```java
@Service
public class ServiceA {
    @Autowired
    private ServiceB serviceB;
    
    @Transactional(rollbackFor = Exception.class, propagation = Propagation.REQUIRED)
    public void methodA() {
        //1.1 做自己的入库操作
        insert()；
        System.out.println("save something to db");
        //1.2 调用服务 B 的入库操作
        serviceB.methodB();
    }
}
```

* PROPAGATION_REQUIRED：这个传播行为是 Spring 默认的事务传播行为，它指的是如果外层调用方法已经开启了事务，那么当前方法就加入到外层事务。如果外层调用方没有开启事务，那么当前方法就开启一个事务。

## Spring 声明式事务管理

## Spring 编程式事务管理